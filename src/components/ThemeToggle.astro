<button id="theme-toggle" type="button" aria-label="Toggle dark and light mode">
  Toggle theme
</button>

<style>
  #theme-toggle {
    border: 1px dashed var(--border);
    background: transparent;
    color: var(--text);
    border-radius: 4px;
    padding: 0.28rem 0.56rem;
    font-family: "JetBrains Mono", "SFMono-Regular", "Menlo", monospace;
    font-size: 0.82rem;
    cursor: pointer;
    transition: border-color 0.2s ease, color 0.2s ease;
  }

  #theme-toggle:hover {
    border-color: var(--accent);
    color: var(--accent);
  }
</style>

<script>
  const key = "site-theme";
  const root = document.documentElement;
  const button = document.querySelector("#theme-toggle");

  const current = root.dataset.theme || "dark";
  if (button) {
    button.textContent = current === "dark" ? "Light mode" : "Dark mode";
    button.addEventListener("click", () => {
      const next = root.dataset.theme === "dark" ? "light" : "dark";
      root.dataset.theme = next;
      localStorage.setItem(key, next);
      button.textContent = next === "dark" ? "Light mode" : "Dark mode";
    });
  }
</script>

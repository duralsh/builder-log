---
import ThemeToggle from "./ThemeToggle.astro";

const links = [
  { href: "/", label: "Home" },
  { href: "/cv", label: "CV" },
  { href: "/projects", label: "Projects" },
  { href: "/hobbies", label: "Hobbies" },
  { href: "/posts", label: "All Posts" },
];

const pathname = Astro.url.pathname;
---

<header>
  <div class="container nav-shell">
    <a class="brand" href="/">Dogus Ural</a>
    <nav aria-label="Primary">
      {
        links.map((link) => (
          <a href={link.href} class={pathname === link.href ? "active" : undefined}>
            {link.label}
          </a>
        ))
      }
    </nav>
    <ThemeToggle />
  </div>
</header>

<style>
  header {
    position: sticky;
    top: 0;
    z-index: 30;
    border-bottom: 1px dashed var(--border);
    background: color-mix(in srgb, var(--bg) 94%, transparent);
    backdrop-filter: blur(4px);
  }

  .nav-shell {
    display: grid;
    gap: 0.9rem;
    padding: 0.9rem 0;
    align-items: center;
    grid-template-columns: auto 1fr auto;
  }

  .brand {
    font-family: "JetBrains Mono", "SFMono-Regular", "Menlo", monospace;
    color: var(--text);
    font-size: 1rem;
    text-decoration: none;
  }

  nav {
    display: flex;
    gap: 0.85rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  nav a {
    color: var(--text-muted);
    padding: 0.2rem 0.15rem;
    text-decoration: none;
  }

  nav a + a::before {
    content: "Â·";
    margin-right: 0.55rem;
    color: var(--text-muted);
  }

  nav a.active,
  nav a:hover {
    color: var(--accent);
  }

  @media (max-width: 900px) {
    .nav-shell {
      grid-template-columns: 1fr;
      justify-items: start;
    }

    nav {
      justify-content: flex-start;
    }
  }
</style>

---
import BaseLayout from "../layouts/BaseLayout.astro";
import { STOIC_QUOTES } from "../lib/stoicQuotes";
---

<BaseLayout title="Dogus Ural" description="Product leader building at the intersection of social and finance.">
  <section class="section">
    <div class="container hero">
      <img class="hero-img card" src="/dogus-hero.png" alt="Dogus Ural portrait" />
      <div class="hero-copy">
        <h1>Dogus Ural</h1>
        <p>
          I build consumer products at the intersection of AI and finance. I am an engineer and a product builder at
          heart. Most recently at
          <a href="https://arena.social/home" target="_blank" rel="noreferrer">Arena</a>, where I led a team shipping
          embedded wallets, perpetual trading, and social features to 16,000 daily users. Before that, I built
          embedded software at Snap. Based in Vienna. I am constantly building and learning, especially around AI,
          finance, and where they overlap. Deep in Roman history, ancient coins, and things that grow on their own.
        </p>
      </div>
    </div>
  </section>

  <section class="section quote-section">
    <div class="container quote-of-day">
      <h2>üèõÔ∏è Stoic Quote of the Day</h2>
      <blockquote id="stoic-quote">"{STOIC_QUOTES[0].quote}"</blockquote>
      <p id="stoic-author" class="muted">- {STOIC_QUOTES[0].author}</p>
    </div>
  </section>

  <script id="stoic-quotes-data" type="application/json" is:inline>
    {JSON.stringify(STOIC_QUOTES)}
  </script>
  <script is:inline>
    const seededRandom = (seed) => {
      let value = seed % 2147483647;
      if (value <= 0) value += 2147483646;
      return () => {
        value = (value * 16807) % 2147483647;
        return (value - 1) / 2147483646;
      };
    };
    const now = new Date();
    const startOfYear = new Date(now.getFullYear(), 0, 0);
    const msPerDay = 1000 * 60 * 60 * 24;
    const dayOfYear = Math.floor((now.getTime() - startOfYear.getTime()) / msPerDay);
    const quotes = JSON.parse(document.getElementById("stoic-quotes-data")?.textContent || "[]");
    if (quotes.length > 0) {
      const shuffled = [...quotes];
      const random = seededRandom(dayOfYear);
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      const selected = shuffled[0];
      const quoteNode = document.getElementById("stoic-quote");
      const authorNode = document.getElementById("stoic-author");
      if (quoteNode) quoteNode.textContent = `"${selected.quote}"`;
      if (authorNode) authorNode.textContent = `- ${selected.author}`;
    }
  </script>

</BaseLayout>

<style>
  .hero {
    display: grid;
    gap: clamp(1rem, 2.2vw, 2.2rem);
    align-items: center;
    grid-template-columns: minmax(240px, 330px) 1fr;
    padding: 1.2rem 0 0.6rem;
  }

  .hero-img {
    width: 100%;
    border-radius: 6px;
    border: 1px dashed var(--border);
    object-fit: cover;
    aspect-ratio: 5 / 6;
    background: linear-gradient(130deg, #5b4f43, #2b241f);
  }

  .hero-copy h1 {
    font-size: clamp(2rem, 4.4vw, 2.9rem);
    margin-bottom: 0.55rem;
  }

  .hero-copy p {
    max-width: 62ch;
    font-size: clamp(1rem, 1.3vw, 1.08rem);
    line-height: 1.75;
  }

  .quote-section {
    padding-top: 0.9rem;
  }

  .quote-of-day {
    margin-top: 1.6rem;
    border-left: 2px solid color-mix(in srgb, var(--accent) 72%, var(--border));
    padding: 0.95rem 1.1rem;
    background: color-mix(in srgb, var(--bg-elevated) 30%, transparent);
  }

  .quote-of-day h2 {
    margin-bottom: 0.5rem;
  }

  .quote-of-day blockquote {
    margin: 0;
    max-width: 70ch;
    font-size: 1.05rem;
    line-height: 1.75;
    font-style: italic;
  }

  .quote-of-day .muted {
    margin-top: 0.35rem;
    letter-spacing: 0.02em;
  }

  @media (max-width: 860px) {
    .hero {
      grid-template-columns: 1fr;
      padding-top: 0.4rem;
    }

    .hero-img {
      max-width: 420px;
      justify-self: center;
    }
  }
</style>
